source ~/base.vimrc

autocmd!
set nocompatible        " use vim defaults
set scrolloff=3         " keep 3 lines when scrolling
set ai                  " set auto-indenting on for programming

set showcmd             " display incomplete commands
set nobackup            " do not keep a backup file
set number              " show line numbers
set ruler               " show the current row and column
set cul                 " cursor line and color (below)

set hlsearch            " highlight searches
set incsearch           " do incremental searching
set showmatch           " jump to matches when entering regexp
set ignorecase          " ignore case when searching
set smartcase           " no ignorecase if Uppercase char present
set splitright

set visualbell t_vb=    " turn off error beep/flash
set novisualbell        " turn off visual bell

set backspace=indent,eol,start  " make that backspace key work the way it should

syntax on               " turn syntax highlighting on by default
filetype on             " detect type of file
filetype indent plugin on      " load indent file for specific file type


"mappings
"Copying to X11 primary selection with the mouse doesn't work
" clipboard=autoselect is not implemented yet. partial workaround:
vnoremap <LeftRelease> "*ygv

" set mapleader
let mapleader        = ","
let g:mapleader      = ","
let maplocalleader   = ","
let g:maplocalleader = ","


"<F1> to check if the file was changed outside vim
nnoremap <F1> :checktime<cr>
inoremap <F1> <esc>:checktime<cr>
"reload current file
nnoremap <F5> :e!<cr>
"show/hide list
nnoremap <leader>l :set list!<cr>:IndentLinesToggle<cr>

nnoremap j gj
nnoremap k gk
nnoremap gj j
nnoremap gk k

" Source
vnoremap <leader>so y:execute @@<cr>:echo 'selection Sourced .'<cr>
nnoremap <leader>so ^vg_y:execute @@<cr>:echo 'line Sourced.'<cr>

"insert mode <c-u> and <c-w> undoable
inoremap <c-u> <c-g>u<c-u>
inoremap <c-w> <c-g>u<c-w>

"fold mappings
"space to toggle fold
nnoremap <space> za
vnoremap <space> za
"close all folds and leave the current fold open
nnoremap <leader>zz zMzvzz

"clear hl search by pressing ,/
nnoremap <silent> <Leader>/  :noh<cr>
"Alt-j/k moving selected lines up and down only in visual mode
set timeout timeoutlen=1000 ttimeoutlen=100
"nmap <F14> :m+<CR>==
"nmap <F15> :m-2<CR>==
vnoremap <c-j> :m'>+<CR>gv=gv
vnoremap <c-k> :m-2<CR>gv=gv
"inoremap <F14> <Esc>:m+<CR>==gi
"inoremap <F15> <Esc>:m-2<CR>==gi
"reselect visual block after indent/outdent
vnoremap < <gv
vnoremap > >gv

"quick Editing .vimrc
nnoremap <Leader>rc :vsplit $MYVIMRC<cr>
nnoremap <Leader>rt :vsplit $HOME/.tmux.conf<cr>
nnoremap <Leader>rz :vsplit $HOME/.zshrc<cr>

"easier copy paste to clipboard
vnoremap <C-C> "+y
nnoremap <Leader>p :silent set paste<cr>"+P:set nopaste<cr>

"format codes without changing screen
nnoremap <Leader>= moHmpgg=G`pzt`o

"move current line to top+5 line (zt +5) zl -> zt lower
nnoremap zl zt4<c-y>
"Fast saving
nnoremap <Leader>x :xa!<cr>
nnoremap <Leader>w :w!<cr>
nnoremap <Leader>su :w !sudo tee %>/dev/null <cr>

"add empty line above/below current line
nnoremap <leader>o mzo<ESC>`z
nnoremap <leader>O mzO<ESC>`z


"-- idevim plugins
set easymotion
set surround
set exchange

nmap  <ESC> <ESC>
imap  <c-c> <c-c>
nmap  <c-c> <c-c>
imap  <C-j> <C-j>
imap  <C-k> <C-k>
imap  <C-n> <C-n>
imap  <C-b> <C-b>
